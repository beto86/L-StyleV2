{% extends 'modelo.html' %}

{% load static %}
{% load filtros %}

{% block titulo %}
<title>Pesquisar Teste</title>
{% endblock %}

{% block conteudo %}
<div class="testeLogin">
    <section style="margin-bottom: 20px;">
        <h2 class="border-custom-primary">Responder um teste</h2>

        <p class="text-secondary">
            Informe corretamente a chave de acesso do teste informado pelo seu professor.
        </p>
        <form action="">
            <label for="codigo" style="width: 100%;">Chave de acesso:</label>
            <input type="text" id="chave" required>
            
            <button type="submit" class="btn bg-color-custom-primary" id="btnSubmit">Iniciar Teste</button>
            
        </form>
    </section>
    <section id="testeLoginLivre">
        <form action="">
            <h2 class="border-custom-primary" for="codigo">Não tem chave?</h2>
            <p class="text-secondary">
                Faça o teste sem chave através do botão de acesso abaixo.
            </p>
            <form action="" style="height: fit-content;">
                <a id="btn-sem-chave" class="btn bg-color-custom-primary" href="{% url 'teste-ils-kolb' 'TesteLivre' %}">Iniciar Teste</a>
            </form>
    </section>
</div>



{% endblock %}


{% block scripts %}
<script>
    $(document).ready(function () {
        
        var url = "{% url 'teste-ils-kolb' 'abc' %}";

        $("form").submit(function (e) { 
            e.preventDefault();

            //var codigo = $("#codigo").val().trim();
            var chave = $("#chave").val().trim();

            if(chave == ""){
                alert("Preencha corretamente a Chave do teste.");
                return false;
            }

            var url_final = url.replace('abc', chave)
            window.location.href = url_final;

        });
    });
</script>
{% endblock %}